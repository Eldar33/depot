<article>
  <% if notice %>
    <aside id="notice"><%= notice %></aside>
  <% end %>
  <h2>Your Cart</h2>
  <table>
    <!--
    В функцию render можно передавать коллекцию элементов, и она отрисует парциал
    app/views/line_items/_line_item.html.erb для каждого элемента коллекции
    Rails найдет нужный парциал по имени таблицы переданной методу render переменной (line_item)
    Файл парциала должен быть такого формата _имя_переменной.html.erb
    -->
    <%= render(cart.line_items) %>
    <tfoot>
    <tr>
      <th colspan="2">Total:</th>

      <td class="price"><%= number_to_currency(cart.total_price) %></td>
    </tr>
    </tfoot>
  </table>
  <%= button_to 'Empty cart', cart,
                method: :delete,
                data: { confirm: 'Are you sure?' } %>
</article>